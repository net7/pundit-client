<ng-container *ngIf="data">
    <div class="pnd-select">

        <ng-container *ngIf="data.mode === 'select'">
            <!-- Label of selected element -->
            <div class="pnd-select-label-selected"
                 title="{{data.selectedNotebook.label}}"
                 (click)="onToggleExpand()">
                {{data.selectedNotebook.label}}
            </div>

            <!-- Toggle for opening the select -->
            <div class="pnd-select-open-options"
                 (click)="onToggleExpand()">
                <span class="pundit-icon pundit-icon-angle-down"></span>
            </div>

            <div class="pnd-select-option-container {{ data._meta?.isExpanded ? 'expanded' : '' }}"
                 name="current-notebook"
                 id="current-notebook">
    
                <!-- list of selectable notebooks -->
                <ng-container *ngFor="let notebook of data.notebookList">
                    <div (click)="onClick('option', notebook.id)"
                         class="option {{notebook.id === data.selectedNotebook ? 'selected' : ''}}">
                        {{ notebook.label }}
                    </div>
                </ng-container>
    
                <!-- create new notebook option -->
                <ng-container *ngIf="data.createOption as create">
                    <div class="option"
                         (click)="onInputMode()">
                        {{ create.label }}
                    </div>
                </ng-container>
            </div>
        </ng-container>
 
        <!-- creating a new notebook -->
        <div *ngIf="data.mode === 'input'">
            <input type="text"
                   name="new-notebook"
                   (input)="onInput($event.target.value)">
            <button class="pnd-btn"
                    (click)="onCreation(data._meta.inputValue)">
                Create
            </button>
        </div>

    </div>
</ng-container>
