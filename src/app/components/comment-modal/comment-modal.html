<div *ngIf="data" [hidden]="!data.visible" class="pnd-modal pnd-comment-modal">
    <div class="pnd-modal__overlay pnd-comment-modal__overlay" (click)="onClose($event.target)">
        <div class="pnd-modal__window pnd-comment-modal__window" [attr.id]="draggableTarget">
            
            <div class="pnd-comment-modal__handle" [attr.id]="draggableHandle">
                <span class="pundit-icon-drag"></span>
            </div>

            <div class="pnd-modal__close">
                <a class="pundit-icon-times" (click)="onClose()"></a>
            </div>
            
            <div class="pnd-comment-modal__highlight-wrapper">
                <div class="pnd-comment-modal__highlight">
                    {{ data.textQuote }}
                </div>
            </div>
            
            <div class="pnd-comment-modal__comment-wrapper">
                <div class="pnd-comment-modal__comment-label">
                    {{ data.header.label }}
                </div>
                <div class="pnd-comment-modal__comment-textarea-wrapper">
                    <textarea *ngIf="data.visible" 
                    maxlength="1000"
                    name="pnd-comment" 
                    class="pnd-comment-modal__comment-textarea"
                    (input)="onChange('textchange', $event.target.value)">{{ data.form.comment.value || '' }}</textarea>
                </div>
            </div>

            <div class="pnd-comment-modal__notebooks">
                <div class="pnd-comment-modal__notebooks-label">
                    {{ data.form.notebooks.label }}
                </div>
                <div class="pnd-comment-modal__select">
                    <select name="change-notebook"
                            id="change-notebook"
                            (change)="onChange('changenotebook', $event.target.value)">
                        <option [value]="notebook.id"
                                *ngFor="let notebook of data.form.notebooks.select.items">
                            {{notebook.label}}
                        </option>
                    </select>
                </div>
            </div>
            
            <div class="pnd-comment-modal__actions">
                <button *ngFor="let action of data.form.actions"
                [disabled]="action.disabled" 
                class="pnd-btn {{ action.classes || '' }}" 
                (click)="onClick($event, action.payload)">
                    {{ action.label }}
                </button>
            </div>

        </div>
    </div>
</div>
