<div class="pnd-edit-modal__semantic-wrapper" *ngIf="data">
    <div class="pnd-edit-modal__semantic-label">
        {{ labels.title }}
    </div>
    <div *ngFor="let row of rows; let $i = index" class="pnd-edit-modal__semantic-row">
        
        <!-- Predicate Input -->
        <div class="pnd-edit-modal__semantic-predicate">
            <div class="pnd-dropdown {{ row.predicate.isExpanded ? 'is-expanded' : '' }}">

                <!-- Selected element -->
                <button class="pnd-dropdown__selected"
                    (click)="onPredicateToggleExpand($i)">
                    <div class="pnd-dropdown__selected-label"
                        title="{{row.predicate.label}}">
                        {{ row.predicate.label }}
                    </div>
                    <div class="pnd-dropdown__selected-right-icon">
                        <pnd-svg-icon *ngIf="!row.predicate.isExpanded" [data]="{ id: 'angle-down' }"></pnd-svg-icon>
                        <pnd-svg-icon *ngIf="row.predicate.isExpanded" [data]="{ id: 'angle-up' }"></pnd-svg-icon>
                    </div>
                </button>
                <!-- END // Selected element -->
        
                <!-- Dropdown (predicate) items -->
                <div class="pnd-dropdown__list-wrapper">
                    <!-- list of predicate options -->
                    <div class="pnd-dropdown__list-items">
                        <ng-container *ngFor="let option of row.predicate.options">
                            <div (click)="onPredicateChange($i, option.value)"
                                class="pnd-dropdown__item {{ option.selected ? 'is-current' : '' }}">
                                <span class="item-label">{{ option.label }}</span>
                                <span class="item-link">
                                    <a (click)="onLinkClick($event)" [href]="option.value" target="_blank">
                                        <span class="item-link-label">{{ option.uriLabel }}</span>
                                        <pnd-svg-icon [data]="{ id: 'external-link' }"></pnd-svg-icon>
                                    </a>
                                </span>
                            </div>
                        </ng-container>
                    </div>
                </div>
                <!-- END // Dropdown (predicate) items -->

            </div>
        </div>
        <!-- END // Predicate Select -->

        <!-- Object Input -->
        <div class="pnd-edit-modal__semantic-object">
            <ng-container *ngIf="row.object.providerId === 'pundit-basic'">
                <div class="pnd-edit-modal__input-wrapper">
                    <p class="pnd-edit-modal__semantic-object-type item-type__{{ row.object.type }}">
                        {{ row.object.type }}
                    </p>
                    <input [attr.id]="'object-input-' + $i" type="text" 
                        class="pnd-edit-modal__semantic-object-input small"
                        (input)="onObjectChange($i, $event.target.value)" 
                        [value]="row.object.value"
                        [placeholder]="row.object.placeholder" />
                </div>
                
                <!-- Dropdown (object) items -->
                <div class="pnd-dropdown {{ row.object.isExpanded ? 'is-expanded' : '' }}">
                    <div class="pnd-dropdown__list-wrapper">
                        <!-- list of predicate options -->
                        <div class="pnd-dropdown__list-items">
                            <ng-container *ngFor="let option of row.object.options">
                                <div (click)="onObjectClick(row, option)"
                                    class="pnd-dropdown__item">
                                    <span class="item-label">{{ option.label }}</span>
                                    <span class="item-link">
                                        <a (click)="onLinkClick($event)" [href]="option.uri" target="_blank">
                                            <span class="item-link-label">{{ option.uriLabel }}</span>
                                            <pnd-svg-icon [data]="{ id: 'external-link' }"></pnd-svg-icon>
                                        </a>
                                    </span>
                                    <span class="item-type" class="item-type__{{ option.type }}">
                                        <span>{{ option.type }}</span>
                                    </span>
                                </div>
                            </ng-container>
                        </div>
                        <div *ngIf="row.object.defaultOption as defaultOption" class="pnd-dropdown__default-option">
                            <div (click)="onObjectClick(row, defaultOption)"
                                class="pnd-dropdown__item">
                                <span class="item-label" [innerHTML]="defaultOption.altLabel"></span>
                                <span class="item-type" class="item-type__{{ defaultOption.type }}">
                                    <span>{{ defaultOption.type }}</span>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- END // Dropdown (object) items -->

            </ng-container>
        </div>    
        <!-- END // Object Input -->

        <!-- Actions -->
        <div class="pnd-edit-modal__semantic-actions">
            <div class="pnd-dropdown {{ row.actions.isExpanded ? 'is-expanded' : '' }}">

                <!-- Action menu button -->
                <button class="pnd-dropdown__selected"
                    (click)="onActionsToggleExpand($i)">
                    <pnd-svg-icon [data]="{ id: 'ellipsis-v' }"></pnd-svg-icon>
                </button>
                <!-- END // Action menu button -->
        
                <!-- Dropdown items -->
                <div class="pnd-dropdown__list-wrapper">
                    <!-- list of actions -->
                    <div class="pnd-dropdown__list-items">
                        <div (click)="onAddClick($i)"
                            class="pnd-dropdown__item">
                            {{ labels.add }}
                        </div>
                    </div>
                    <!-- list of actions -->
                    <div class="pnd-dropdown__list-items">
                        <div (click)="onRemoveClick($i)"
                            class="pnd-dropdown__item">
                            {{ getRemoveLabel() }}
                        </div>
                    </div>
                </div>
                <!-- END // Dropdown items -->

            </div>
        </div>    
        <!-- END // Actions -->
    </div>
</div>